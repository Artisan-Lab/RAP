thread 'rustc' panicked at compiler/rustc_mir_transform/src/safedrop_check/mod.rs:48:67:
called `Option::unwrap()` on a `None` value
stack backtrace:
   0:        0x101b34ca8 - std::backtrace::Backtrace::create::hba609955ea9f2747
   1:        0x10a5c0744 - <alloc[12814d0e685f1461]::boxed::Box<rustc_driver_impl[7eb65d086081e778]::install_ice_hook::{closure#0}> as core[d162f4f0b3f30a88]::ops::function::Fn<(&dyn for<'a, 'b> core[d162f4f0b3f30a88]::ops::function::Fn<(&'a core[d162f4f0b3f30a88]::panic::panic_info::PanicInfo<'b>,), Output = ()> + core[d162f4f0b3f30a88]::marker::Send + core[d162f4f0b3f30a88]::marker::Sync, &core[d162f4f0b3f30a88]::panic::panic_info::PanicInfo)>>::call
   2:        0x101b31ebc - std::panicking::rust_panic_with_hook::hdcf9a8cf9c9ff0c5
   3:        0x101b39460 - std::panicking::begin_panic_handler::{{closure}}::h887693cea7b84dad
   4:        0x101b391e4 - std::sys_common::backtrace::__rust_end_short_backtrace::hf0381488b5ac26cc
   5:        0x101b31b3c - _rust_begin_unwind
   6:        0x101bb5ee8 - core::panicking::panic_fmt::h1fb3655ae2318bf9
   7:        0x101bb5f5c - core::panicking::panic::h463520ad2be22668
   8:        0x10cf29f64 - <rustc_mir_transform[6b7895a1d30f9dec]::safedrop_check::graph::SafeDropGraph>::alias_check
   9:        0x10cf2b5f4 - <rustc_mir_transform[6b7895a1d30f9dec]::safedrop_check::graph::SafeDropGraph>::safedrop_check
  10:        0x10cf2bc28 - <rustc_mir_transform[6b7895a1d30f9dec]::safedrop_check::graph::SafeDropGraph>::safedrop_check
  11:        0x10d00ab50 - rustc_mir_transform[6b7895a1d30f9dec]::safedrop_check
  12:        0x10d841d14 - rustc_query_impl[57ad62c12da53cb9]::plumbing::__rust_begin_short_backtrace::<rustc_query_impl[57ad62c12da53cb9]::query_impl::safedrop_check::dynamic_query::{closure#2}::{closure#0}, rustc_middle[9d0aefaa1e74ab0b]::query::erase::Erased<[u8; 0usize]>>
  13:        0x10d8867f8 - <rustc_query_impl[57ad62c12da53cb9]::query_impl::safedrop_check::dynamic_query::{closure#2} as core[d162f4f0b3f30a88]::ops::function::FnOnce<(rustc_middle[9d0aefaa1e74ab0b]::ty::context::TyCtxt, rustc_span[a62379f2e5e68906]::def_id::DefId)>>::call_once
  14:        0x10d873568 - <rustc_middle[9d0aefaa1e74ab0b]::dep_graph::DepsType as rustc_query_system[b9db7d8fa8b10cef]::dep_graph::Deps>::with_deps::<<rustc_query_system[b9db7d8fa8b10cef]::dep_graph::graph::DepGraphData<rustc_middle[9d0aefaa1e74ab0b]::dep_graph::DepsType>>::with_task<(rustc_query_impl[57ad62c12da53cb9]::plumbing::QueryCtxt, rustc_query_impl[57ad62c12da53cb9]::DynamicConfig<rustc_query_system[b9db7d8fa8b10cef]::query::caches::DefaultCache<rustc_span[a62379f2e5e68906]::def_id::DefId, rustc_middle[9d0aefaa1e74ab0b]::query::erase::Erased<[u8; 0usize]>>, false, false, false>), rustc_span[a62379f2e5e68906]::def_id::DefId, rustc_middle[9d0aefaa1e74ab0b]::query::erase::Erased<[u8; 0usize]>>::{closure#0}::{closure#0}, rustc_middle[9d0aefaa1e74ab0b]::query::erase::Erased<[u8; 0usize]>>
  15:        0x10d7e180c - rustc_query_system[b9db7d8fa8b10cef]::query::plumbing::try_execute_query::<rustc_query_impl[57ad62c12da53cb9]::DynamicConfig<rustc_query_system[b9db7d8fa8b10cef]::query::caches::DefaultCache<rustc_span[a62379f2e5e68906]::def_id::DefId, rustc_middle[9d0aefaa1e74ab0b]::query::erase::Erased<[u8; 0usize]>>, false, false, false>, rustc_query_impl[57ad62c12da53cb9]::plumbing::QueryCtxt, true>
  16:        0x10d889360 - rustc_query_impl[57ad62c12da53cb9]::query_impl::safedrop_check::get_query_incr::__rust_end_short_backtrace
  17:        0x10a6e0b00 - <core[d162f4f0b3f30a88]::panic::unwind_safe::AssertUnwindSafe<rustc_data_structures[c789f539e7366eb]::sync::parallel::disabled::par_for_each_in<&[rustc_span[a62379f2e5e68906]::def_id::LocalDefId], <rustc_middle[9d0aefaa1e74ab0b]::hir::map::Map>::par_body_owners<rustc_interface[55f51fa8907387c]::passes::analysis::{closure#6}::{closure#0}>::{closure#0}>::{closure#0}::{closure#0}::{closure#0}> as core[d162f4f0b3f30a88]::ops::function::FnOnce<()>>::call_once
  18:        0x10a6e87a4 - std[7da8d8bd505356ad]::panicking::try::<(), core[d162f4f0b3f30a88]::panic::unwind_safe::AssertUnwindSafe<rustc_data_structures[c789f539e7366eb]::sync::parallel::disabled::par_for_each_in<&[rustc_span[a62379f2e5e68906]::def_id::LocalDefId], <rustc_middle[9d0aefaa1e74ab0b]::hir::map::Map>::par_body_owners<rustc_interface[55f51fa8907387c]::passes::analysis::{closure#6}::{closure#0}>::{closure#0}>::{closure#0}::{closure#0}::{closure#0}>>
  19:        0x10a6d4628 - <rustc_data_structures[c789f539e7366eb]::sync::parallel::ParallelGuard>::run::<(), rustc_data_structures[c789f539e7366eb]::sync::parallel::disabled::par_for_each_in<&[rustc_span[a62379f2e5e68906]::def_id::LocalDefId], <rustc_middle[9d0aefaa1e74ab0b]::hir::map::Map>::par_body_owners<rustc_interface[55f51fa8907387c]::passes::analysis::{closure#6}::{closure#0}>::{closure#0}>::{closure#0}::{closure#0}::{closure#0}>
  20:        0x10a70c13c - <rustc_session[1eb02ec7c6bb1abf]::session::Session>::time::<(), rustc_interface[55f51fa8907387c]::passes::analysis::{closure#6}>
  21:        0x10a703208 - rustc_interface[55f51fa8907387c]::passes::analysis
  22:        0x10d845ce4 - rustc_query_impl[57ad62c12da53cb9]::plumbing::__rust_begin_short_backtrace::<rustc_query_impl[57ad62c12da53cb9]::query_impl::analysis::dynamic_query::{closure#2}::{closure#0}, rustc_middle[9d0aefaa1e74ab0b]::query::erase::Erased<[u8; 1usize]>>
  23:        0x10d8edb50 - <rustc_query_impl[57ad62c12da53cb9]::query_impl::analysis::dynamic_query::{closure#2} as core[d162f4f0b3f30a88]::ops::function::FnOnce<(rustc_middle[9d0aefaa1e74ab0b]::ty::context::TyCtxt, ())>>::call_once
  24:        0x10d872128 - <rustc_middle[9d0aefaa1e74ab0b]::dep_graph::DepsType as rustc_query_system[b9db7d8fa8b10cef]::dep_graph::Deps>::with_deps::<<rustc_query_system[b9db7d8fa8b10cef]::dep_graph::graph::DepGraphData<rustc_middle[9d0aefaa1e74ab0b]::dep_graph::DepsType>>::with_task<(rustc_query_impl[57ad62c12da53cb9]::plumbing::QueryCtxt, rustc_query_impl[57ad62c12da53cb9]::DynamicConfig<rustc_query_system[b9db7d8fa8b10cef]::query::caches::SingleCache<rustc_middle[9d0aefaa1e74ab0b]::query::erase::Erased<[u8; 1usize]>>, false, false, false>), (), rustc_middle[9d0aefaa1e74ab0b]::query::erase::Erased<[u8; 1usize]>>::{closure#0}::{closure#0}, rustc_middle[9d0aefaa1e74ab0b]::query::erase::Erased<[u8; 1usize]>>
  25:        0x10d7c2cf0 - rustc_query_system[b9db7d8fa8b10cef]::query::plumbing::try_execute_query::<rustc_query_impl[57ad62c12da53cb9]::DynamicConfig<rustc_query_system[b9db7d8fa8b10cef]::query::caches::SingleCache<rustc_middle[9d0aefaa1e74ab0b]::query::erase::Erased<[u8; 1usize]>>, false, false, false>, rustc_query_impl[57ad62c12da53cb9]::plumbing::QueryCtxt, true>
  26:        0x10d88cebc - rustc_query_impl[57ad62c12da53cb9]::query_impl::analysis::get_query_incr::__rust_end_short_backtrace
  27:        0x10a5eb74c - <rustc_middle[9d0aefaa1e74ab0b]::ty::context::GlobalCtxt>::enter::<rustc_driver_impl[7eb65d086081e778]::run_compiler::{closure#1}::{closure#2}::{closure#6}, core[d162f4f0b3f30a88]::result::Result<(), rustc_span[a62379f2e5e68906]::ErrorGuaranteed>>
  28:        0x10a5d6e4c - <rustc_interface[55f51fa8907387c]::interface::Compiler>::enter::<rustc_driver_impl[7eb65d086081e778]::run_compiler::{closure#1}::{closure#2}, core[d162f4f0b3f30a88]::result::Result<core[d162f4f0b3f30a88]::option::Option<rustc_interface[55f51fa8907387c]::queries::Linker>, rustc_span[a62379f2e5e68906]::ErrorGuaranteed>>
  29:        0x10a5bd8fc - std[7da8d8bd505356ad]::sys_common::backtrace::__rust_begin_short_backtrace::<rustc_interface[55f51fa8907387c]::util::run_in_thread_with_globals<rustc_interface[55f51fa8907387c]::interface::run_compiler<core[d162f4f0b3f30a88]::result::Result<(), rustc_span[a62379f2e5e68906]::ErrorGuaranteed>, rustc_driver_impl[7eb65d086081e778]::run_compiler::{closure#1}>::{closure#0}, core[d162f4f0b3f30a88]::result::Result<(), rustc_span[a62379f2e5e68906]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[d162f4f0b3f30a88]::result::Result<(), rustc_span[a62379f2e5e68906]::ErrorGuaranteed>>
  30:        0x10a5f1bc0 - std[7da8d8bd505356ad]::panicking::try::<core[d162f4f0b3f30a88]::result::Result<(), rustc_span[a62379f2e5e68906]::ErrorGuaranteed>, core[d162f4f0b3f30a88]::panic::unwind_safe::AssertUnwindSafe<<std[7da8d8bd505356ad]::thread::Builder>::spawn_unchecked_<rustc_interface[55f51fa8907387c]::util::run_in_thread_with_globals<rustc_interface[55f51fa8907387c]::interface::run_compiler<core[d162f4f0b3f30a88]::result::Result<(), rustc_span[a62379f2e5e68906]::ErrorGuaranteed>, rustc_driver_impl[7eb65d086081e778]::run_compiler::{closure#1}>::{closure#0}, core[d162f4f0b3f30a88]::result::Result<(), rustc_span[a62379f2e5e68906]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[d162f4f0b3f30a88]::result::Result<(), rustc_span[a62379f2e5e68906]::ErrorGuaranteed>>::{closure#1}::{closure#0}>>
  31:        0x10a5bfd84 - <<std[7da8d8bd505356ad]::thread::Builder>::spawn_unchecked_<rustc_interface[55f51fa8907387c]::util::run_in_thread_with_globals<rustc_interface[55f51fa8907387c]::interface::run_compiler<core[d162f4f0b3f30a88]::result::Result<(), rustc_span[a62379f2e5e68906]::ErrorGuaranteed>, rustc_driver_impl[7eb65d086081e778]::run_compiler::{closure#1}>::{closure#0}, core[d162f4f0b3f30a88]::result::Result<(), rustc_span[a62379f2e5e68906]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[d162f4f0b3f30a88]::result::Result<(), rustc_span[a62379f2e5e68906]::ErrorGuaranteed>>::{closure#1} as core[d162f4f0b3f30a88]::ops::function::FnOnce<()>>::call_once::{shim:vtable#0}
  32:        0x101b2c708 - <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once::h54135432d46ac0f9
  33:        0x101b4c8d4 - std::sys::unix::thread::Thread::new::thread_start::hf8ec84f6052ef7d5
  34:        0x185ade034 - __pthread_joiner_wake


rustc version: 1.75.0-dev
platform: aarch64-apple-darwin

query stack during panic:
#0 [safedrop_check] check safedrop bugs in rustc mir
#1 [analysis] running analysis passes on this crate
end of query stack
